
<div class="container" *ngIf="!isSuccess;else register_success">

      <form class="well form-horizontal" [formGroup]="registerForm" (ngSubmit)="onSubmit(registerForm.value)">
        <fieldset>

        <legend><h2><b>Registration Form</b></h2></legend><br>

          <div class="form-group">
            <label class="col-md-4 control-label">Username</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                <input  formControlName="user_name" placeholder="Username" class="form-control"  type="text">
              </div>
              <p *ngIf="registerForm.get('user_name').touched && registerForm.get('user_name').hasError('isRequired')" class="error">This field is required!</p>
             <p [hidden]="!registerForm.get('user_name').hasError('isDuplicate')" class="error" >Username is already taken please choose a another one</p>
            </div>
          </div>


        <!-- Debugging Info  {{ registerForm.get('user_name').errors |json}} -->




        <div class="form-group">
          <label class="col-md-4 control-label">First Name</label>
          <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
          <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
          <input  formControlName="first_name" placeholder="First Name" class="form-control"  type="text">
          </div>
            <p class="error" *ngIf="registerForm.get('first_name').touched && registerForm.get('first_name').hasError('required')">This field is required!</p>
          </div>
        </div>


        <div class="form-group">
          <label class="col-md-4 control-label" >Last Name</label>
            <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
          <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
          <input formControlName="last_name" placeholder="Last Name" class="form-control"  type="text">
          </div>
              <p class="error" *ngIf="registerForm.get('last_name').touched && registerForm.get('last_name').hasError('required')">This field is required!</p>
          </div>
        </div>

          <div  formGroupName="passwords">
        <div class="form-group">
          <label class="col-md-4 control-label" >Password</label>
            <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
          <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
          <input formControlName="user_password" placeholder="Password" class="form-control"  type="password">
            </div>
              <p class="error" *ngIf="registerForm.get(['passwords','user_password']).touched && registerForm.get('passwords', 'user_password').hasError('required')">This field is required!</p>
              <p class="error">{{passCount}}</p>
             </div>

           </div>
        <div class="form-group">
          <label class="col-md-4 control-label" >Confirm Password</label>
            <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
          <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
          <input formControlName="confirm_password" placeholder="Confirm Password" class="form-control"  type="password">
          </div>
              <p class="error" > {{ passMismatch}} </p>

          </div>
        </div>

          </div>


          <div class="form-group">
            <label class="col-md-4 control-label">Address</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
              <!--  <input type="text" [options]='options'
                       (setAddress) = "getAddress($event)"
                        (change)="clearAddress($event)"
                       ng2-google-place-autocomplete required class="form-control"  />-->
                <input type="text"
                       (setAddress) = "getAddress($event)"
                       (change)="clearAddress($event)"
                       required class="form-control"  />
              </div>
              <div formGroupName="address" id="address">
                <div class="row">
                  <span class="label">Street address</span>
                    <input class="field" id="street_address" formControlName="street_address"  />
                  <span class="label">City</span>
                  <input class="field" id="locality" formControlName="locality"  />
                </div>
                <div class="row">
                  <span class="label">State</span>
                  <input class="field" id="state"  formControlName="administrative_area_level_1" />
                  <span class="label">Country</span>
                  <input class="field" id="country"  formControlName="country" />
                </div>
                <div class="row">
                  <span class="label">Postal code</span>
                  <input class="field" id="postal_code" formControlName="postal_code" />

                </div>
              </div>


            </div>
          </div>

          <div class="form-group">
          <label class="col-md-4 control-label">E-Mail</label>
            <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
          <input formControlName="email" placeholder="E-Mail Address" class="form-control"  type="text">

            </div>
              <p class="error" *ngIf="registerForm.get('email').touched && registerForm.get('email').hasError('required')">This field is required!</p>
              <p class="error" *ngIf="registerForm.get('email').touched && registerForm.get('email').hasError('email')">Enter a Valid email</p>
               </div>
        </div>


        <!-- Text input-->

        <div class="form-group">
          <label class="col-md-4 control-label">Contact No.</label>
            <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
          <input formControlName="contact_no" placeholder="(639)" minlength="10"  maxlength="10" class="form-control" type="text" appNumberOnly="true">

            </div>
              <p class="error" *ngIf="registerForm.get('contact_no').touched && registerForm.get('contact_no').hasError('required')">This field is required!</p>
          </div>
        </div>





        <!-- Button -->
        <div class="form-group">
          <label class="col-md-4 control-label"></label>
          <div class="col-md-4"><br>
           <button type="submit" class="btn btn-warning"  >SUBMIT <span class="glyphicon glyphicon-send"></span></button>
            <!--[disabled]="registerForm.invalid"-->
          </div>
        </div>
<div>

</div>
        </fieldset>
              {{ registerForm ?. errors | json }}
        </form>
        </div>

<!-- Success message -->
<ng-template #register_success>
<div class="container" >
  <div class="alert alert-success" role="alert" id="success_message">Success <i class="glyphicon glyphicon-thumbs-up"></i>You have been registered successfully. <a routerLink="/login"> Click here to go to login page </a> </div>
</div>
</ng-template>

